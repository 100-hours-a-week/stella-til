## 날짜: 2024-12-12

### 스크럼
- 학습 목표 1 : Test Containers 필요성
- 학습 목표 2 : DB 마이그레이션이란?

### 새로 배운 내용
#### 주제 1: Test Containers 필요성
어제 공부한 뒤, 실제 모듈을 활용하지 않고 가상의 모듈을 사용하는 이유가 궁금해짐
1. 기존 연결된 모듈을 활용하지 않고 Test Containers를 활용하는 이유
    1. 기존 모듈을 연결해서 테스트 진행시, 테스트 데이터가 독립되어있지않으므로 테스트 결과에 영향을 미칠 수 있음!
    2. 매번 동일한 환경의 디비를 맞춰줄 수 있으므로 테스트의 격리성을 높일 수 있음
2. 그렇다면 매번 가상 환경을 위한 스키마를 직접 새로 만들어야 하는가?
    1. DB 마이그레이션을 지원하는 Flyway, Liquibase와 같은 툴이 있음

⇒ 테스트의 격리성과 독립성을 높여 테스트의 자동화에 도움이 되는 것

⇒ 그렇지만 항상 ‘자동화’에는 트레이드오프가 발생하므로, 내가 도입하고자 하는 서비스의 상태를 정확히 파악하고 오버엔지니어링을 하지 않도록 고려해야 함


#### 주제 2: DB 마이그레이션이란?
마이그레이션은 크게 두가지 느낌으로 사용된다.
정확한 용어의 구분은 없지만, 사용되는 맥락에서 차이가 있다.
실제로 데이터를 옮기기 위한 마이그레이션 툴이 있고 그것보다는 스키마의 변경 사항을 관리할 수 있는 측면의 마이그레이션 툴이 있다. 
- DB를 현재의 위치에서 어떤 이유로 인해 특정한 다른 위치로 옮기는 것을 의미 => 물리적, 환경적 마이그레이션
    - 예) mysqldump, AWS DMS 등
- DB를 쉽게 옮기기 위해서는 데이터베이스 스키마의 변경 사항을 관리할 수 있어야 함 => 스키마 마이그레이션
- 이를 지원하는 것이 바로 DB 마이그레이션 tool
    - 예) Flyway, Liquibase 등
        - 스크립트 파일을 작성하여 실행
        - 데이터베이스 상태를 버전 관리하고, 특정 시점으로 복구하거나 스키마를 업데이트 가능
    - 그렇다면 spring boot jpa의 ddl-auto와는 무엇이 다른가?
        - 엔티티 클래스와 매핑된 데이터베이스 테이블을 자동으로 생성, 업데이트, 삭제, 검증함
        - 그러나 버전으로 관리되지는 않음, 엔티티가 변경되면 자동 동기화되도록 설정할 수만 있음
        - 예상치 못하게 파일에 변경이 생기면 데이터 손실 발생 위험이 있음 


### 오늘의 도전 과제와 해결 방법
- 도전 과제 1: API 연동 작업 반복하느라 큰 문제는 발생하지 않음

### 오늘의 회고
- 드디어 1주차 과제를 냈다. 늦은 시작이지만 누구보다 최선을 다해서 더 나아가고 싶다는 생각이 많이 드는 밤이다

### 참고 자료 및 링크
[Flyway 설명] : https://www.blog.ecsimsw.com/entry/Flyway%EB%A1%9C-DB-Migration
[ddl auto 설명] : https://velog.io/@choidongkuen/ddl-auto-%EA%B8%B0%EB%8A%A5%EC%9D%80-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C